<!DOCTYPE html>

<head>
  <title>CODE FIGHTERS</title>

  <!-- Icon -->
  <link rel="icon" href="imgs/skull.ico">

  <!-- Font(s) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&family=Press+Start+2P&display=swap" rel="stylesheet">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

  <!-- Styling via CSS -->
  <link rel="stylesheet" href="styling/style.css">

  <!-- Javascript -->
  <script type="matchmaking.js"></script>

</head>

<body onload="pseudo_timer()">

  <!-- Scary skull -->
  <div class="container">
    <img class="skull" src="imgs/skull_load.png" alt="">
    <div class="bottom-left"></div>
  </div>

  <!-- Countdown timer -->
  <div class="countdown">
    <h4>ETA: <code id="cur_time">~</code>s</h4>
  </div>

  <!-- Glowing spinner -->
  <div class="load">
    <div id="spin" class="spinner-grow" role="status"></div>
  </div>

  <br>

  <figure class="text-center">
    <blockquote class="blockquote">
      <p id="tip">A well-known quote, contained in a blockquote element.</p>
    </blockquote>
    <figcaption class="blockquote-footer">
      Sun tzu <cite title="Source Title">The Art Of War</cite>
    </figcaption>
  </figure>

  <button type="button" name="button" class="btn btn-danger">cancel</button>

</body>

<!--Loading logic (pseudo) -->
<script>

var tips = [
	"Praise the Lord and pass the ammunition!",
	"Come on! Do you want to live forever?",
	"Rebellions are built on hope",
	"I'd like to live as a poor man",
  "I came, I saw, I lost",
  "If I got any cooler I would freeze to death",
  "Empathy is the glue",
  "I feel calm but energized",
	"George Bush doesn't care about black people",
  "We all self-conscious. I'm just the first to admit it.",
  "Fur pillows are hard to actually sleep on",
  "I spoke to Dave Chapelle for two hours this morning. He is our modern day Socrates"
];

var x = Math.floor(Math.random() * (15 - 3) + 3);
var y = document.getElementById("spin")
var tip = document.getElementById("tip")
var z = x

tip.innerHTML = '"' + tips[Math.floor(Math.random()*tips.length)] + '"';

function pseudo_timer(){
  var pseudo_timer = setInterval(function() {

    q_start = Math.floor(Math.random() * (3 - 1) + 1)

    x -= 1;

    var temp = document.getElementById("cur_time");

    if(x <= (Math.floor(z / 1.5))){
      y.style.boxShadow = "0px 0px 40px yellow";
      y.style.backgroundColor = "yellow";
    }

    if (x <= (Math.floor(z / 3))) {
      y.style.boxShadow = "0px 0px 40px green";
      y.style.backgroundColor = "green";
      if(q_start === 1){
        x = 0;
      }
    }

    temp.innerHTML = x;

    if(x <= 0){
      clearInterval(pseudo_timer);
      found();
    }

  }, 1000);
}

function found(){
  setTimeout(function(){
    window.open("game.html")
  }, 1000)
}

</script>
